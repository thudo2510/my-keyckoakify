"use strict";(self.webpackChunkkeycloakify_starter=self.webpackChunkkeycloakify_starter||[]).push([[9530],{9530:function(A,e,r){r.r(e),r.d(e,{default:function(){return H}});var n=r(2791);var t=r.p+"static/media/logo.6ce24c58023cc2f8fd88fe9d219db6c6.svg",a="data:image/png;base64,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",o=r(4165),c=r(885),u=r(5861),i=r(3748),l=r(7874),s=r(391),d=r(9883),f=r(1855),m=r(456),p=r(8252),v=r(184);function g(){return g=(0,u.Z)((0,o.Z)().mark((function A(e){var r,n,t,a,c,d,v,g,k,w,R,x;return(0,o.Z)().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return r=e.url,n=e.realm,t=e.clientId,a=e.transformUrlBeforeRedirect,c=e.getUiLocales,d=e.log,v=new i.Z({url:r,realm:n,clientId:t}),g="overwrite location.href",A.next=5,v.init({onLoad:"check-sso",silentCheckSsoRedirectUri:"".concat(window.location.origin,"/silent-sso.html"),responseMode:"query",checkLoginIframe:!1,adapter:(0,f.O)({transformUrlBeforeRedirect:function(A){return[A].map(null!==a&&void 0!==a?a:function(A){return A}).map(void 0===c?function(A){return A}:function(A){return(0,s.addParamToUrl)({url:A,name:"ui_locales",value:c()}).newUrl})[0]},keycloakInstance:v,getRedirectMethod:function(){return g}})}).catch((function(A){return A}));case 5:if(!((k=A.sent)instanceof Error)){A.next=8;break}throw k;case 8:if(w=function(){var A=(0,u.Z)((0,o.Z)().mark((function A(e){return(0,o.Z)().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return e.doesCurrentHrefRequiresAuth&&(g="location.replace"),A.next=4,v.login({redirectUri:window.location.href});case 4:return A.abrupt("return",new Promise((function(){})));case 5:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}(),k){A.next=11;break}return A.abrupt("return",(0,l.id)({isUserLoggedIn:!1,login:w}));case 11:return R=v.token,x=(0,l.id)({isUserLoggedIn:!0,getAccessToken:function(){return R},logout:function(){var A=(0,u.Z)((0,o.Z)().mark((function A(e){var r;return(0,o.Z)().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return r=e.redirectTo,A.next=3,v.logout({redirectUri:function(){switch(r){case"current page":return window.location.href;case"home":return window.location.origin}}()});case 3:return A.abrupt("return",new Promise((function(){})));case 4:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}(),updateTokenInfos:function(){var A=(0,u.Z)((0,o.Z)().mark((function A(){return(0,o.Z)().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,v.updateToken(-1);case 2:R=v.token;case 3:case"end":return A.stop()}}),A)})));return function(){return A.apply(this,arguments)}}()}),function A(){var e=1e3*(0,m.Z)(R).exp-Date.now();setTimeout((0,u.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===d||void 0===d||d("OIDC access token will expire in ".concat(h," seconds, waiting for user activity before renewing")),e.next=3,p.Evt.merge([p.Evt.from(document,"mousemove"),p.Evt.from(document,"keydown")]).waitFor();case 3:return null===d||void 0===d||d("User activity detected. Refreshing access token now"),e.next=6,v.updateToken(-1).then((function(){}),(function(A){return A}));case 6:if(!e.sent){e.next=11;break}return null===d||void 0===d||d("Can't refresh OIDC access token, getting a new one"),e.next=11,w({doesCurrentHrefRequiresAuth:!0});case 11:R=v.token,A();case 13:case"end":return e.stop()}}),e)}))),e-1e3*h)}(),A.abrupt("return",x);case 15:case"end":return A.stop()}}),A)}))),g.apply(this,arguments)}var h=25,k=(0,n.createContext)(void 0);var w=r(2167),R=r(3036),x=r(962),I=function(){var A,e="foo",r=function(){var A=S({queryParamName:e});if(void 0!==A)return JSON.parse(A)}();var n=(A={},(0,w.Z)(A,e,r),(0,w.Z)(A,"add".concat((0,x.k)(e),"ToQueryParams"),(function(A){var r=A.url,n=A.value;return(0,s.addParamToUrl)({url:r,name:e,value:JSON.stringify(n)}).newUrl})),A);return n}(),P=(I.foo,I.addFooToQueryParams),U=function(){var A,e="bar",r=function(){var A=S({queryParamName:e});if(void 0!==A)return JSON.parse(A)}();var n=(A={},(0,w.Z)(A,e,r),(0,w.Z)(A,"add".concat((0,x.k)(e),"ToQueryParams"),(function(A){var r=A.url,n=A.value;return(0,s.addParamToUrl)({url:r,name:e,value:JSON.stringify(n)}).newUrl})),A);return n}(),y=(U.bar,U.addBarToQueryParams);function S(A){if(void 0!==R.H){var e=A.queryParamName,r=(0,s.retrieveParamFromUrl)({url:window.location.href,name:e});if(r.wasPresent){var n=r.newUrl,t=r.value;return(0,s.updateSearchBarUrl)(n),localStorage.setItem(e,t),t}var a=localStorage.getItem(e);if(null===a)throw new Error("Missing ".concat(e," in URL when redirecting to login page"));return a}}var T="https://auth.code.gouv.fr/auth",Z="keycloakify",b="starter",O=function(A){var e=function(A){return g.apply(this,arguments)}(A);return{OidcClientProvider:function(A){var r=A.children,t=(0,n.useState)(void 0),a=(0,c.Z)(t,2),o=a[0],u=a[1];return(0,n.useEffect)((function(){e.then(u)}),[]),void 0===o?null:(0,v.jsx)(k.Provider,{value:o,children:r})}}}({url:T,realm:Z,clientId:b,getUiLocales:function(){return"en"},transformUrlBeforeRedirect:function(A){return[A].map((function(A){return P({url:A,value:{foo:42}})})).map((function(A){return y({url:A,value:"value of bar transferred to login page"})}))[0]},log:console.log}),L=O.OidcClientProvider;function C(){var A=function(){var A=(0,n.useContext)(k);return(0,d.h)(void 0!==A),{oidcClient:A}}(),e=A.oidcClient,r="".concat(T,"/realms/").concat(Z,"/account");return r=(0,s.addParamToUrl)({url:r,name:"kc_locale",value:"en"}).newUrl,r=(0,s.addParamToUrl)({url:r,name:"referrer",value:b}).newUrl,r=(0,s.addParamToUrl)({url:r,name:"referrer_uri",value:window.location.href}).newUrl,(0,v.jsx)("div",{className:"App",children:(0,v.jsxs)("header",{className:"App-header",children:[e.isUserLoggedIn?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h1",{children:"You are authenticated !"}),(0,v.jsx)("a",{href:r,children:"Link to your Keycloak account"}),(0,v.jsx)("pre",{style:{textAlign:"left"},children:JSON.stringify((0,m.Z)(e.getAccessToken()),null,2)}),(0,v.jsx)("button",{onClick:function(){return e.logout({redirectTo:"home"})},children:"Logout"})]}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("button",{onClick:function(){return e.login({doesCurrentHrefRequiresAuth:!1})},children:"Login"})}),(0,v.jsx)("img",{src:t,className:"App-logo",alt:"logo"}),(0,v.jsx)("img",{src:a,alt:"test_image"}),(0,v.jsx)("p",{style:{fontFamily:'"Work Sans"'},children:"Hello world"}),(0,v.jsxs)("p",{children:["Check out all keycloak pages in the ",(0,v.jsx)("a",{href:"https://storybook.keycloakify.dev/storybook",children:"Storybook"}),"!"]}),(0,v.jsxs)("p",{children:["Once you've identified the ones you want to customize run ",(0,v.jsx)("code",{children:"npx eject-keycloak-page"})]})]})})}var H=function(){return(0,v.jsx)(L,{children:(0,v.jsx)(C,{})})}}}]);
//# sourceMappingURL=9530.0b641782.chunk.js.map