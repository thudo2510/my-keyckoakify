{"version":3,"file":"static/js/3463.00af7a6e.chunk.js","mappings":"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","sources":["../node_modules/base64-js/index.js","../node_modules/js-sha256/src/sha256.js","../node_modules/jwt-decode/lib/atob.js","../node_modules/jwt-decode/lib/base64_url_decode.js","../node_modules/jwt-decode/lib/index.js","../node_modules/keycloakify/src/lib/keycloakJsAdapter.ts","../node_modules/powerhooks/src/tools/urlSearchParams.ts","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/keycloak-js/dist/keycloak.mjs","../node_modules/tsafe/src/capitalize.ts"],"sourcesContent":["'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n\nfunction InvalidCharacterError(message) {\n    this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = \"InvalidCharacterError\";\n\nfunction polyfill(input) {\n    var str = String(input).replace(/=+$/, \"\");\n    if (str.length % 4 == 1) {\n        throw new InvalidCharacterError(\n            \"'atob' failed: The string to be decoded is not correctly encoded.\"\n        );\n    }\n    for (\n        // initialize result and counters\n        var bc = 0, bs, buffer, idx = 0, output = \"\";\n        // get next character\n        (buffer = str.charAt(idx++));\n        // character found in table? initialize bit storage and add its ascii value;\n        ~buffer &&\n        ((bs = bc % 4 ? bs * 64 + buffer : buffer),\n            // and if not first of each 4 characters,\n            // convert the first 8 bits to one ascii character\n            bc++ % 4) ?\n        (output += String.fromCharCode(255 & (bs >> ((-2 * bc) & 6)))) :\n        0\n    ) {\n        // try to find character in table (0-63, not found => -1)\n        buffer = chars.indexOf(buffer);\n    }\n    return output;\n}\n\nexport default (typeof window !== \"undefined\" &&\n    window.atob &&\n    window.atob.bind(window)) ||\npolyfill;","import atob from \"./atob\";\n\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(\n        atob(str).replace(/(.)/g, function(m, p) {\n            var code = p.charCodeAt(0).toString(16).toUpperCase();\n            if (code.length < 2) {\n                code = \"0\" + code;\n            }\n            return \"%\" + code;\n        })\n    );\n}\n\nexport default function(str) {\n    var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw \"Illegal base64url string!\";\n    }\n\n    try {\n        return b64DecodeUnicode(output);\n    } catch (err) {\n        return atob(output);\n    }\n}","\"use strict\";\n\nimport base64_url_decode from \"./base64_url_decode\";\n\nexport function InvalidTokenError(message) {\n    this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\n\nexport default function(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified\");\n    }\n\n    options = options || {};\n    var pos = options.header === true ? 0 : 1;\n    try {\n        return JSON.parse(base64_url_decode(token.split(\".\")[pos]));\n    } catch (e) {\n        throw new InvalidTokenError(\"Invalid token specified: \" + e.message);\n    }\n}","export declare namespace keycloak_js {\n    export type KeycloakPromiseCallback<T> = (result: T) => void;\n    export class KeycloakPromise<TSuccess, TError> extends Promise<TSuccess> {\n        success(callback: KeycloakPromiseCallback<TSuccess>): KeycloakPromise<TSuccess, TError>;\n        error(callback: KeycloakPromiseCallback<TError>): KeycloakPromise<TSuccess, TError>;\n    }\n    export interface KeycloakAdapter {\n        login(options?: KeycloakLoginOptions): KeycloakPromise<void, void>;\n        logout(options?: KeycloakLogoutOptions): KeycloakPromise<void, void>;\n        register(options?: KeycloakLoginOptions): KeycloakPromise<void, void>;\n        accountManagement(): KeycloakPromise<void, void>;\n        redirectUri(options: { redirectUri: string }, encodeHash: boolean): string;\n    }\n    export interface KeycloakLogoutOptions {\n        redirectUri?: string;\n    }\n    export interface KeycloakLoginOptions {\n        scope?: string;\n        redirectUri?: string;\n        prompt?: \"none\" | \"login\";\n        action?: string;\n        maxAge?: number;\n        loginHint?: string;\n        idpHint?: string;\n        locale?: string;\n        cordovaOptions?: { [optionName: string]: string };\n    }\n\n    export type KeycloakInstance = Record<\n        \"createLoginUrl\" | \"createLogoutUrl\" | \"createRegisterUrl\",\n        (options: KeycloakLoginOptions | undefined) => string\n    > & {\n        createAccountUrl(): string;\n        redirectUri?: string;\n    };\n}\n\n/**\n * NOTE: This is just a slightly modified version of the default adapter in keycloak-js\n * The goal here is just to be able to inject search param in url before keycloak redirect.\n * Our use case for it is to pass over the login screen the states of useGlobalState\n * namely isDarkModeEnabled, lgn...\n */\nexport function createKeycloakAdapter(params: {\n    keycloakInstance: keycloak_js.KeycloakInstance;\n    transformUrlBeforeRedirect: (url: string) => string;\n    getRedirectMethod?: () => \"overwrite location.href\" | \"location.replace\";\n}): keycloak_js.KeycloakAdapter {\n    const { keycloakInstance, transformUrlBeforeRedirect, getRedirectMethod = () => \"overwrite location.href\" } = params;\n\n    const neverResolvingPromise: keycloak_js.KeycloakPromise<void, void> = Object.defineProperties(new Promise(() => {}), {\n        \"success\": { \"value\": () => {} },\n        \"error\": { \"value\": () => {} }\n    }) as any;\n\n    return {\n        \"login\": options => {\n            const newHref = transformUrlBeforeRedirect(keycloakInstance.createLoginUrl(options));\n            switch (getRedirectMethod()) {\n                case \"location.replace\":\n                    window.location.replace(newHref);\n                    break;\n                case \"overwrite location.href\":\n                    window.location.href = newHref;\n                    break;\n            }\n            return neverResolvingPromise;\n        },\n        \"register\": options => {\n            const newHref = transformUrlBeforeRedirect(keycloakInstance.createRegisterUrl(options));\n            switch (getRedirectMethod()) {\n                case \"location.replace\":\n                    window.location.replace(newHref);\n                    break;\n                case \"overwrite location.href\":\n                    window.location.href = newHref;\n                    break;\n            }\n\n            return neverResolvingPromise;\n        },\n        \"logout\": options => {\n            window.location.replace(transformUrlBeforeRedirect(keycloakInstance.createLogoutUrl(options)));\n            return neverResolvingPromise;\n        },\n        \"accountManagement\": () => {\n            const accountUrl = transformUrlBeforeRedirect(keycloakInstance.createAccountUrl());\n\n            if (accountUrl === \"undefined\") {\n                throw new Error(\"Not supported by the OIDC server\");\n            }\n\n            switch (getRedirectMethod()) {\n                case \"location.replace\":\n                    window.location.replace(accountUrl);\n                    break;\n                case \"overwrite location.href\":\n                    window.location.href = accountUrl;\n                    break;\n            }\n\n            return neverResolvingPromise;\n        },\n        \"redirectUri\": options => {\n            if (options && options.redirectUri) {\n                return options.redirectUri;\n            } else if (keycloakInstance.redirectUri) {\n                return keycloakInstance.redirectUri;\n            } else {\n                return window.location.href;\n            }\n        }\n    };\n}\n","\nexport function addParamToUrl(\n    params: {\n        url: string,\n        name: string,\n        value: string;\n    }\n): { newUrl: string; } {\n\n    const { url, name, value } = params;\n\n    let newUrl = url;\n\n    const result = retrieveParamFromUrl({\n        url,\n        name\n    });\n\n    if (result.wasPresent) {\n\n        newUrl = result.newUrl;\n\n    }\n\n    newUrl += `${newUrl.includes(\"?\") ? \"&\" : newUrl.endsWith(\"?\") ? \"\" : \"?\"}${name}=${encodeURIComponent(value)}`;\n\n    return { newUrl };\n\n}\n\nexport function retrieveAllParamStartingWithPrefixFromUrl<Prefix extends string, DoLeave extends boolean>(\n    params: {\n        url: string;\n        prefix: Prefix;\n        doLeavePrefixInResults: DoLeave;\n    }\n): { newUrl: string; values: Record<DoLeave extends true ? `${Prefix}${string}` : string, string>; } {\n\n    const { url, prefix, doLeavePrefixInResults } = params;\n\n    const [baseUrl, locationSearch = \"\"] = url.split(\"?\");\n\n    const values: Record<string, string> = {};\n\n    const { newLocationSearch } = (() => {\n\n        let newLocationSearch = locationSearch\n            .replace(/^\\?/, \"\")\n            .split(\"&\")\n            .map(part => part.split(\"=\") as [string, string])\n            .filter(([key, value_i]) =>\n                !key.startsWith(prefix) ?\n                    true :\n                    (values[doLeavePrefixInResults ? key : key.substring(prefix.length)] = decodeURIComponent(value_i), false))\n            .map(entry => entry.join(\"=\"))\n            .join(\"&\")\n            ;\n\n        newLocationSearch = newLocationSearch === \"\" ?\n            \"\" : `?${newLocationSearch}`;\n\n        return { newLocationSearch };\n\n    })();\n\n    return {\n        \"newUrl\": `${baseUrl}${newLocationSearch}`,\n        values\n    };\n\n}\n\nexport function retrieveParamFromUrl(\n    params: {\n        url: string;\n        name: string;\n    }\n): { wasPresent: false; } | { wasPresent: true; newUrl: string; value: string; } {\n\n    const { url, name } = params;\n\n    const { newUrl, values } = retrieveAllParamStartingWithPrefixFromUrl({\n        url,\n        \"prefix\": name,\n        \"doLeavePrefixInResults\": true\n    });\n\n    return name in values ?\n        {\n            \"wasPresent\": true, newUrl,\n            \"value\": values[name]\n        } :\n        {\n            \"wasPresent\": false\n        };\n\n}\n\n\nexport function updateSearchBarUrl(url: string) {\n\n    window.history.replaceState(\n        \"\",\n        \"\",\n        url\n    );\n\n}\n\n\n\n\n","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import base64 from 'base64-js';\nimport sha256 from 'js-sha256';\n\n/*\n * Copyright 2016 Red Hat, Inc. and/or its affiliates\n * and other contributors as indicated by the @author tags.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nif (typeof Promise === 'undefined') {\n    throw Error('Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.');\n}\n\nvar loggedPromiseDeprecation = false;\n\nfunction logPromiseDeprecation() {\n    if (!loggedPromiseDeprecation) {\n        loggedPromiseDeprecation = true;\n        console.warn('[KEYCLOAK] Usage of legacy style promise methods such as `.error()` and `.success()` has been deprecated and support will be removed in future versions. Use standard style promise methods such as `.then() and `.catch()` instead.');\n    }\n}\n\nfunction Keycloak (config) {\n    if (!(this instanceof Keycloak)) {\n        return new Keycloak(config);\n    }\n\n    var kc = this;\n    var adapter;\n    var refreshQueue = [];\n    var callbackStorage;\n\n    var loginIframe = {\n        enable: true,\n        callbackList: [],\n        interval: 5\n    };\n\n    var scripts = document.getElementsByTagName('script');\n    for (var i = 0; i < scripts.length; i++) {\n        if ((scripts[i].src.indexOf('keycloak.js') !== -1 || scripts[i].src.indexOf('keycloak.min.js') !== -1) && scripts[i].src.indexOf('version=') !== -1) {\n            kc.iframeVersion = scripts[i].src.substring(scripts[i].src.indexOf('version=') + 8).split('&')[0];\n        }\n    }\n\n    var useNonce = true;\n    var logInfo = createLogger(console.info);\n    var logWarn = createLogger(console.warn);\n\n    kc.init = function (initOptions) {\n        kc.authenticated = false;\n\n        callbackStorage = createCallbackStorage();\n        var adapters = ['default', 'cordova', 'cordova-native'];\n\n        if (initOptions && adapters.indexOf(initOptions.adapter) > -1) {\n            adapter = loadAdapter(initOptions.adapter);\n        } else if (initOptions && typeof initOptions.adapter === \"object\") {\n            adapter = initOptions.adapter;\n        } else {\n            if (window.Cordova || window.cordova) {\n                adapter = loadAdapter('cordova');\n            } else {\n                adapter = loadAdapter();\n            }\n        }\n\n        if (initOptions) {\n            if (typeof initOptions.useNonce !== 'undefined') {\n                useNonce = initOptions.useNonce;\n            }\n\n            if (typeof initOptions.checkLoginIframe !== 'undefined') {\n                loginIframe.enable = initOptions.checkLoginIframe;\n            }\n\n            if (initOptions.checkLoginIframeInterval) {\n                loginIframe.interval = initOptions.checkLoginIframeInterval;\n            }\n\n            if (initOptions.onLoad === 'login-required') {\n                kc.loginRequired = true;\n            }\n\n            if (initOptions.responseMode) {\n                if (initOptions.responseMode === 'query' || initOptions.responseMode === 'fragment') {\n                    kc.responseMode = initOptions.responseMode;\n                } else {\n                    throw 'Invalid value for responseMode';\n                }\n            }\n\n            if (initOptions.flow) {\n                switch (initOptions.flow) {\n                    case 'standard':\n                        kc.responseType = 'code';\n                        break;\n                    case 'implicit':\n                        kc.responseType = 'id_token token';\n                        break;\n                    case 'hybrid':\n                        kc.responseType = 'code id_token token';\n                        break;\n                    default:\n                        throw 'Invalid value for flow';\n                }\n                kc.flow = initOptions.flow;\n            }\n\n            if (initOptions.timeSkew != null) {\n                kc.timeSkew = initOptions.timeSkew;\n            }\n\n            if(initOptions.redirectUri) {\n                kc.redirectUri = initOptions.redirectUri;\n            }\n\n            if (initOptions.silentCheckSsoRedirectUri) {\n                kc.silentCheckSsoRedirectUri = initOptions.silentCheckSsoRedirectUri;\n            }\n\n            if (typeof initOptions.silentCheckSsoFallback === 'boolean') {\n                kc.silentCheckSsoFallback = initOptions.silentCheckSsoFallback;\n            } else {\n                kc.silentCheckSsoFallback = true;\n            }\n\n            if (initOptions.pkceMethod) {\n                if (initOptions.pkceMethod !== \"S256\") {\n                    throw 'Invalid value for pkceMethod';\n                }\n                kc.pkceMethod = initOptions.pkceMethod;\n            }\n\n            if (typeof initOptions.enableLogging === 'boolean') {\n                kc.enableLogging = initOptions.enableLogging;\n            } else {\n                kc.enableLogging = false;\n            }\n\n            if (typeof initOptions.scope === 'string') {\n                kc.scope = initOptions.scope;\n            }\n\n            if (typeof initOptions.messageReceiveTimeout === 'number' && initOptions.messageReceiveTimeout > 0) {\n                kc.messageReceiveTimeout = initOptions.messageReceiveTimeout;\n            } else {\n                kc.messageReceiveTimeout = 10000;\n            }\n        }\n\n        if (!kc.responseMode) {\n            kc.responseMode = 'fragment';\n        }\n        if (!kc.responseType) {\n            kc.responseType = 'code';\n            kc.flow = 'standard';\n        }\n\n        var promise = createPromise();\n\n        var initPromise = createPromise();\n        initPromise.promise.then(function() {\n            kc.onReady && kc.onReady(kc.authenticated);\n            promise.setSuccess(kc.authenticated);\n        }).catch(function(error) {\n            promise.setError(error);\n        });\n\n        var configPromise = loadConfig();\n\n        function onLoad() {\n            var doLogin = function(prompt) {\n                if (!prompt) {\n                    options.prompt = 'none';\n                }\n\n                kc.login(options).then(function () {\n                    initPromise.setSuccess();\n                }).catch(function (error) {\n                    initPromise.setError(error);\n                });\n            };\n\n            var checkSsoSilently = function() {\n                var ifrm = document.createElement(\"iframe\");\n                var src = kc.createLoginUrl({prompt: 'none', redirectUri: kc.silentCheckSsoRedirectUri});\n                ifrm.setAttribute(\"src\", src);\n                ifrm.setAttribute(\"title\", \"keycloak-silent-check-sso\");\n                ifrm.style.display = \"none\";\n                document.body.appendChild(ifrm);\n\n                var messageCallback = function(event) {\n                    if (event.origin !== window.location.origin || ifrm.contentWindow !== event.source) {\n                        return;\n                    }\n\n                    var oauth = parseCallback(event.data);\n                    processCallback(oauth, initPromise);\n\n                    document.body.removeChild(ifrm);\n                    window.removeEventListener(\"message\", messageCallback);\n                };\n\n                window.addEventListener(\"message\", messageCallback);\n            };\n\n            var options = {};\n            switch (initOptions.onLoad) {\n                case 'check-sso':\n                    if (loginIframe.enable) {\n                        setupCheckLoginIframe().then(function() {\n                            checkLoginIframe().then(function (unchanged) {\n                                if (!unchanged) {\n                                    kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                                } else {\n                                    initPromise.setSuccess();\n                                }\n                            }).catch(function (error) {\n                                initPromise.setError(error);\n                            });\n                        });\n                    } else {\n                        kc.silentCheckSsoRedirectUri ? checkSsoSilently() : doLogin(false);\n                    }\n                    break;\n                case 'login-required':\n                    doLogin(true);\n                    break;\n                default:\n                    throw 'Invalid value for onLoad';\n            }\n        }\n\n        function processInit() {\n            var callback = parseCallback(window.location.href);\n\n            if (callback) {\n                window.history.replaceState(window.history.state, null, callback.newUrl);\n            }\n\n            if (callback && callback.valid) {\n                return setupCheckLoginIframe().then(function() {\n                    processCallback(callback, initPromise);\n                }).catch(function (error) {\n                    initPromise.setError(error);\n                });\n            } else if (initOptions) {\n                if (initOptions.token && initOptions.refreshToken) {\n                    setToken(initOptions.token, initOptions.refreshToken, initOptions.idToken);\n\n                    if (loginIframe.enable) {\n                        setupCheckLoginIframe().then(function() {\n                            checkLoginIframe().then(function (unchanged) {\n                                if (unchanged) {\n                                    kc.onAuthSuccess && kc.onAuthSuccess();\n                                    initPromise.setSuccess();\n                                    scheduleCheckIframe();\n                                } else {\n                                    initPromise.setSuccess();\n                                }\n                            }).catch(function (error) {\n                                initPromise.setError(error);\n                            });\n                        });\n                    } else {\n                        kc.updateToken(-1).then(function() {\n                            kc.onAuthSuccess && kc.onAuthSuccess();\n                            initPromise.setSuccess();\n                        }).catch(function(error) {\n                            kc.onAuthError && kc.onAuthError();\n                            if (initOptions.onLoad) {\n                                onLoad();\n                            } else {\n                                initPromise.setError(error);\n                            }\n                        });\n                    }\n                } else if (initOptions.onLoad) {\n                    onLoad();\n                } else {\n                    initPromise.setSuccess();\n                }\n            } else {\n                initPromise.setSuccess();\n            }\n        }\n\n        function domReady() {\n            var promise = createPromise();\n\n            var checkReadyState = function () {\n                if (document.readyState === 'interactive' || document.readyState === 'complete') {\n                    document.removeEventListener('readystatechange', checkReadyState);\n                    promise.setSuccess();\n                }\n            };\n            document.addEventListener('readystatechange', checkReadyState);\n\n            checkReadyState(); // just in case the event was already fired and we missed it (in case the init is done later than at the load time, i.e. it's done from code)\n\n            return promise.promise;\n        }\n\n        configPromise.then(function () {\n            domReady()\n                .then(check3pCookiesSupported)\n                .then(processInit)\n                .catch(function (error) {\n                    promise.setError(error);\n                });\n        });\n        configPromise.catch(function (error) {\n            promise.setError(error);\n        });\n\n        return promise.promise;\n    };\n\n    kc.login = function (options) {\n        return adapter.login(options);\n    };\n\n    function generateRandomData(len) {\n        // use web crypto APIs if possible\n        var array = null;\n        var crypto = window.crypto || window.msCrypto;\n        if (crypto && crypto.getRandomValues && window.Uint8Array) {\n            array = new Uint8Array(len);\n            crypto.getRandomValues(array);\n            return array;\n        }\n\n        // fallback to Math random\n        array = new Array(len);\n        for (var j = 0; j < array.length; j++) {\n            array[j] = Math.floor(256 * Math.random());\n        }\n        return array;\n    }\n\n    function generateCodeVerifier(len) {\n        return generateRandomString(len, 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789');\n    }\n\n    function generateRandomString(len, alphabet){\n        var randomData = generateRandomData(len);\n        var chars = new Array(len);\n        for (var i = 0; i < len; i++) {\n            chars[i] = alphabet.charCodeAt(randomData[i] % alphabet.length);\n        }\n        return String.fromCharCode.apply(null, chars);\n    }\n\n    function generatePkceChallenge(pkceMethod, codeVerifier) {\n        switch (pkceMethod) {\n            // The use of the \"plain\" method is considered insecure and therefore not supported.\n            case \"S256\":\n                // hash codeVerifier, then encode as url-safe base64 without padding\n                var hashBytes = new Uint8Array(sha256.arrayBuffer(codeVerifier));\n                var encodedHash = base64.fromByteArray(hashBytes)\n                    .replace(/\\+/g, '-')\n                    .replace(/\\//g, '_')\n                    .replace(/\\=/g, '');\n                return encodedHash;\n            default:\n                throw 'Invalid value for pkceMethod';\n        }\n    }\n\n    function buildClaimsParameter(requestedAcr){\n        var claims = {\n            id_token: {\n                acr: requestedAcr\n            }\n        };\n        return JSON.stringify(claims);\n    }\n\n    kc.createLoginUrl = function(options) {\n        var state = createUUID();\n        var nonce = createUUID();\n\n        var redirectUri = adapter.redirectUri(options);\n\n        var callbackState = {\n            state: state,\n            nonce: nonce,\n            redirectUri: encodeURIComponent(redirectUri)\n        };\n\n        if (options && options.prompt) {\n            callbackState.prompt = options.prompt;\n        }\n\n        var baseUrl;\n        if (options && options.action == 'register') {\n            baseUrl = kc.endpoints.register();\n        } else {\n            baseUrl = kc.endpoints.authorize();\n        }\n\n        var scope = options && options.scope || kc.scope;\n        if (!scope) {\n            // if scope is not set, default to \"openid\"\n            scope = \"openid\";\n        } else if (scope.indexOf(\"openid\") === -1) {\n            // if openid scope is missing, prefix the given scopes with it\n            scope = \"openid \" + scope;\n        }\n\n        var url = baseUrl\n            + '?client_id=' + encodeURIComponent(kc.clientId)\n            + '&redirect_uri=' + encodeURIComponent(redirectUri)\n            + '&state=' + encodeURIComponent(state)\n            + '&response_mode=' + encodeURIComponent(kc.responseMode)\n            + '&response_type=' + encodeURIComponent(kc.responseType)\n            + '&scope=' + encodeURIComponent(scope);\n        if (useNonce) {\n            url = url + '&nonce=' + encodeURIComponent(nonce);\n        }\n\n        if (options && options.prompt) {\n            url += '&prompt=' + encodeURIComponent(options.prompt);\n        }\n\n        if (options && options.maxAge) {\n            url += '&max_age=' + encodeURIComponent(options.maxAge);\n        }\n\n        if (options && options.loginHint) {\n            url += '&login_hint=' + encodeURIComponent(options.loginHint);\n        }\n\n        if (options && options.idpHint) {\n            url += '&kc_idp_hint=' + encodeURIComponent(options.idpHint);\n        }\n\n        if (options && options.action && options.action != 'register') {\n            url += '&kc_action=' + encodeURIComponent(options.action);\n        }\n\n        if (options && options.locale) {\n            url += '&ui_locales=' + encodeURIComponent(options.locale);\n        }\n\n        if (options && options.acr) {\n            var claimsParameter = buildClaimsParameter(options.acr);\n            url += '&claims=' + encodeURIComponent(claimsParameter);\n        }\n\n        if (kc.pkceMethod) {\n            var codeVerifier = generateCodeVerifier(96);\n            callbackState.pkceCodeVerifier = codeVerifier;\n            var pkceChallenge = generatePkceChallenge(kc.pkceMethod, codeVerifier);\n            url += '&code_challenge=' + pkceChallenge;\n            url += '&code_challenge_method=' + kc.pkceMethod;\n        }\n\n        callbackStorage.add(callbackState);\n\n        return url;\n    };\n\n    kc.logout = function(options) {\n        return adapter.logout(options);\n    };\n\n    kc.createLogoutUrl = function(options) {\n        var url = kc.endpoints.logout()\n            + '?client_id=' + encodeURIComponent(kc.clientId)\n            + '&post_logout_redirect_uri=' + encodeURIComponent(adapter.redirectUri(options, false));\n\n        if (kc.idToken) {\n            url += '&id_token_hint=' + encodeURIComponent(kc.idToken);\n        }\n\n        return url;\n    };\n\n    kc.register = function (options) {\n        return adapter.register(options);\n    };\n\n    kc.createRegisterUrl = function(options) {\n        if (!options) {\n            options = {};\n        }\n        options.action = 'register';\n        return kc.createLoginUrl(options);\n    };\n\n    kc.createAccountUrl = function(options) {\n        var realm = getRealmUrl();\n        var url = undefined;\n        if (typeof realm !== 'undefined') {\n            url = realm\n            + '/account'\n            + '?referrer=' + encodeURIComponent(kc.clientId)\n            + '&referrer_uri=' + encodeURIComponent(adapter.redirectUri(options));\n        }\n        return url;\n    };\n\n    kc.accountManagement = function() {\n        return adapter.accountManagement();\n    };\n\n    kc.hasRealmRole = function (role) {\n        var access = kc.realmAccess;\n        return !!access && access.roles.indexOf(role) >= 0;\n    };\n\n    kc.hasResourceRole = function(role, resource) {\n        if (!kc.resourceAccess) {\n            return false;\n        }\n\n        var access = kc.resourceAccess[resource || kc.clientId];\n        return !!access && access.roles.indexOf(role) >= 0;\n    };\n\n    kc.loadUserProfile = function() {\n        var url = getRealmUrl() + '/account';\n        var req = new XMLHttpRequest();\n        req.open('GET', url, true);\n        req.setRequestHeader('Accept', 'application/json');\n        req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n\n        var promise = createPromise();\n\n        req.onreadystatechange = function () {\n            if (req.readyState == 4) {\n                if (req.status == 200) {\n                    kc.profile = JSON.parse(req.responseText);\n                    promise.setSuccess(kc.profile);\n                } else {\n                    promise.setError();\n                }\n            }\n        };\n\n        req.send();\n\n        return promise.promise;\n    };\n\n    kc.loadUserInfo = function() {\n        var url = kc.endpoints.userinfo();\n        var req = new XMLHttpRequest();\n        req.open('GET', url, true);\n        req.setRequestHeader('Accept', 'application/json');\n        req.setRequestHeader('Authorization', 'bearer ' + kc.token);\n\n        var promise = createPromise();\n\n        req.onreadystatechange = function () {\n            if (req.readyState == 4) {\n                if (req.status == 200) {\n                    kc.userInfo = JSON.parse(req.responseText);\n                    promise.setSuccess(kc.userInfo);\n                } else {\n                    promise.setError();\n                }\n            }\n        };\n\n        req.send();\n\n        return promise.promise;\n    };\n\n    kc.isTokenExpired = function(minValidity) {\n        if (!kc.tokenParsed || (!kc.refreshToken && kc.flow != 'implicit' )) {\n            throw 'Not authenticated';\n        }\n\n        if (kc.timeSkew == null) {\n            logInfo('[KEYCLOAK] Unable to determine if token is expired as timeskew is not set');\n            return true;\n        }\n\n        var expiresIn = kc.tokenParsed['exp'] - Math.ceil(new Date().getTime() / 1000) + kc.timeSkew;\n        if (minValidity) {\n            if (isNaN(minValidity)) {\n                throw 'Invalid minValidity';\n            }\n            expiresIn -= minValidity;\n        }\n        return expiresIn < 0;\n    };\n\n    kc.updateToken = function(minValidity) {\n        var promise = createPromise();\n\n        if (!kc.refreshToken) {\n            promise.setError();\n            return promise.promise;\n        }\n\n        minValidity = minValidity || 5;\n\n        var exec = function() {\n            var refreshToken = false;\n            if (minValidity == -1) {\n                refreshToken = true;\n                logInfo('[KEYCLOAK] Refreshing token: forced refresh');\n            } else if (!kc.tokenParsed || kc.isTokenExpired(minValidity)) {\n                refreshToken = true;\n                logInfo('[KEYCLOAK] Refreshing token: token expired');\n            }\n\n            if (!refreshToken) {\n                promise.setSuccess(false);\n            } else {\n                var params = 'grant_type=refresh_token&' + 'refresh_token=' + kc.refreshToken;\n                var url = kc.endpoints.token();\n\n                refreshQueue.push(promise);\n\n                if (refreshQueue.length == 1) {\n                    var req = new XMLHttpRequest();\n                    req.open('POST', url, true);\n                    req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n                    req.withCredentials = true;\n\n                    params += '&client_id=' + encodeURIComponent(kc.clientId);\n\n                    var timeLocal = new Date().getTime();\n\n                    req.onreadystatechange = function () {\n                        if (req.readyState == 4) {\n                            if (req.status == 200) {\n                                logInfo('[KEYCLOAK] Token refreshed');\n\n                                timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n                                var tokenResponse = JSON.parse(req.responseText);\n\n                                setToken(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], timeLocal);\n\n                                kc.onAuthRefreshSuccess && kc.onAuthRefreshSuccess();\n                                for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                                    p.setSuccess(true);\n                                }\n                            } else {\n                                logWarn('[KEYCLOAK] Failed to refresh token');\n\n                                if (req.status == 400) {\n                                    kc.clearToken();\n                                }\n\n                                kc.onAuthRefreshError && kc.onAuthRefreshError();\n                                for (var p = refreshQueue.pop(); p != null; p = refreshQueue.pop()) {\n                                    p.setError(true);\n                                }\n                            }\n                        }\n                    };\n\n                    req.send(params);\n                }\n            }\n        };\n\n        if (loginIframe.enable) {\n            var iframePromise = checkLoginIframe();\n            iframePromise.then(function() {\n                exec();\n            }).catch(function(error) {\n                promise.setError(error);\n            });\n        } else {\n            exec();\n        }\n\n        return promise.promise;\n    };\n\n    kc.clearToken = function() {\n        if (kc.token) {\n            setToken(null, null, null);\n            kc.onAuthLogout && kc.onAuthLogout();\n            if (kc.loginRequired) {\n                kc.login();\n            }\n        }\n    };\n\n    function getRealmUrl() {\n        if (typeof kc.authServerUrl !== 'undefined') {\n            if (kc.authServerUrl.charAt(kc.authServerUrl.length - 1) == '/') {\n                return kc.authServerUrl + 'realms/' + encodeURIComponent(kc.realm);\n            } else {\n                return kc.authServerUrl + '/realms/' + encodeURIComponent(kc.realm);\n            }\n        } else {\n            return undefined;\n        }\n    }\n\n    function getOrigin() {\n        if (!window.location.origin) {\n            return window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');\n        } else {\n            return window.location.origin;\n        }\n    }\n\n    function processCallback(oauth, promise) {\n        var code = oauth.code;\n        var error = oauth.error;\n        var prompt = oauth.prompt;\n\n        var timeLocal = new Date().getTime();\n\n        if (oauth['kc_action_status']) {\n            kc.onActionUpdate && kc.onActionUpdate(oauth['kc_action_status']);\n        }\n\n        if (error) {\n            if (prompt != 'none') {\n                var errorData = { error: error, error_description: oauth.error_description };\n                kc.onAuthError && kc.onAuthError(errorData);\n                promise && promise.setError(errorData);\n            } else {\n                promise && promise.setSuccess();\n            }\n            return;\n        } else if ((kc.flow != 'standard') && (oauth.access_token || oauth.id_token)) {\n            authSuccess(oauth.access_token, null, oauth.id_token, true);\n        }\n\n        if ((kc.flow != 'implicit') && code) {\n            var params = 'code=' + code + '&grant_type=authorization_code';\n            var url = kc.endpoints.token();\n\n            var req = new XMLHttpRequest();\n            req.open('POST', url, true);\n            req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n\n            params += '&client_id=' + encodeURIComponent(kc.clientId);\n            params += '&redirect_uri=' + oauth.redirectUri;\n\n            if (oauth.pkceCodeVerifier) {\n                params += '&code_verifier=' + oauth.pkceCodeVerifier;\n            }\n\n            req.withCredentials = true;\n\n            req.onreadystatechange = function() {\n                if (req.readyState == 4) {\n                    if (req.status == 200) {\n\n                        var tokenResponse = JSON.parse(req.responseText);\n                        authSuccess(tokenResponse['access_token'], tokenResponse['refresh_token'], tokenResponse['id_token'], kc.flow === 'standard');\n                        scheduleCheckIframe();\n                    } else {\n                        kc.onAuthError && kc.onAuthError();\n                        promise && promise.setError();\n                    }\n                }\n            };\n\n            req.send(params);\n        }\n\n        function authSuccess(accessToken, refreshToken, idToken, fulfillPromise) {\n            timeLocal = (timeLocal + new Date().getTime()) / 2;\n\n            setToken(accessToken, refreshToken, idToken, timeLocal);\n\n            if (useNonce && ((kc.tokenParsed && kc.tokenParsed.nonce != oauth.storedNonce) ||\n                (kc.refreshTokenParsed && kc.refreshTokenParsed.nonce != oauth.storedNonce) ||\n                (kc.idTokenParsed && kc.idTokenParsed.nonce != oauth.storedNonce))) {\n\n                logInfo('[KEYCLOAK] Invalid nonce, clearing token');\n                kc.clearToken();\n                promise && promise.setError();\n            } else {\n                if (fulfillPromise) {\n                    kc.onAuthSuccess && kc.onAuthSuccess();\n                    promise && promise.setSuccess();\n                }\n            }\n        }\n\n    }\n\n    function loadConfig(url) {\n        var promise = createPromise();\n        var configUrl;\n\n        if (!config) {\n            configUrl = 'keycloak.json';\n        } else if (typeof config === 'string') {\n            configUrl = config;\n        }\n\n        function setupOidcEndoints(oidcConfiguration) {\n            if (! oidcConfiguration) {\n                kc.endpoints = {\n                    authorize: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/auth';\n                    },\n                    token: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/token';\n                    },\n                    logout: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/logout';\n                    },\n                    checkSessionIframe: function() {\n                        var src = getRealmUrl() + '/protocol/openid-connect/login-status-iframe.html';\n                        if (kc.iframeVersion) {\n                            src = src + '?version=' + kc.iframeVersion;\n                        }\n                        return src;\n                    },\n                    thirdPartyCookiesIframe: function() {\n                        var src = getRealmUrl() + '/protocol/openid-connect/3p-cookies/step1.html';\n                        if (kc.iframeVersion) {\n                            src = src + '?version=' + kc.iframeVersion;\n                        }\n                        return src;\n                    },\n                    register: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/registrations';\n                    },\n                    userinfo: function() {\n                        return getRealmUrl() + '/protocol/openid-connect/userinfo';\n                    }\n                };\n            } else {\n                kc.endpoints = {\n                    authorize: function() {\n                        return oidcConfiguration.authorization_endpoint;\n                    },\n                    token: function() {\n                        return oidcConfiguration.token_endpoint;\n                    },\n                    logout: function() {\n                        if (!oidcConfiguration.end_session_endpoint) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.end_session_endpoint;\n                    },\n                    checkSessionIframe: function() {\n                        if (!oidcConfiguration.check_session_iframe) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.check_session_iframe;\n                    },\n                    register: function() {\n                        throw 'Redirection to \"Register user\" page not supported in standard OIDC mode';\n                    },\n                    userinfo: function() {\n                        if (!oidcConfiguration.userinfo_endpoint) {\n                            throw \"Not supported by the OIDC server\";\n                        }\n                        return oidcConfiguration.userinfo_endpoint;\n                    }\n                };\n            }\n        }\n\n        if (configUrl) {\n            var req = new XMLHttpRequest();\n            req.open('GET', configUrl, true);\n            req.setRequestHeader('Accept', 'application/json');\n\n            req.onreadystatechange = function () {\n                if (req.readyState == 4) {\n                    if (req.status == 200 || fileLoaded(req)) {\n                        var config = JSON.parse(req.responseText);\n\n                        kc.authServerUrl = config['auth-server-url'];\n                        kc.realm = config['realm'];\n                        kc.clientId = config['resource'];\n                        setupOidcEndoints(null);\n                        promise.setSuccess();\n                    } else {\n                        promise.setError();\n                    }\n                }\n            };\n\n            req.send();\n        } else {\n            if (!config.clientId) {\n                throw 'clientId missing';\n            }\n\n            kc.clientId = config.clientId;\n\n            var oidcProvider = config['oidcProvider'];\n            if (!oidcProvider) {\n                if (!config['url']) {\n                    var scripts = document.getElementsByTagName('script');\n                    for (var i = 0; i < scripts.length; i++) {\n                        if (scripts[i].src.match(/.*keycloak\\.js/)) {\n                            config.url = scripts[i].src.substr(0, scripts[i].src.indexOf('/js/keycloak.js'));\n                            break;\n                        }\n                    }\n                }\n                if (!config.realm) {\n                    throw 'realm missing';\n                }\n\n                kc.authServerUrl = config.url;\n                kc.realm = config.realm;\n                setupOidcEndoints(null);\n                promise.setSuccess();\n            } else {\n                if (typeof oidcProvider === 'string') {\n                    var oidcProviderConfigUrl;\n                    if (oidcProvider.charAt(oidcProvider.length - 1) == '/') {\n                        oidcProviderConfigUrl = oidcProvider + '.well-known/openid-configuration';\n                    } else {\n                        oidcProviderConfigUrl = oidcProvider + '/.well-known/openid-configuration';\n                    }\n                    var req = new XMLHttpRequest();\n                    req.open('GET', oidcProviderConfigUrl, true);\n                    req.setRequestHeader('Accept', 'application/json');\n\n                    req.onreadystatechange = function () {\n                        if (req.readyState == 4) {\n                            if (req.status == 200 || fileLoaded(req)) {\n                                var oidcProviderConfig = JSON.parse(req.responseText);\n                                setupOidcEndoints(oidcProviderConfig);\n                                promise.setSuccess();\n                            } else {\n                                promise.setError();\n                            }\n                        }\n                    };\n\n                    req.send();\n                } else {\n                    setupOidcEndoints(oidcProvider);\n                    promise.setSuccess();\n                }\n            }\n        }\n\n        return promise.promise;\n    }\n\n    function fileLoaded(xhr) {\n        return xhr.status == 0 && xhr.responseText && xhr.responseURL.startsWith('file:');\n    }\n\n    function setToken(token, refreshToken, idToken, timeLocal) {\n        if (kc.tokenTimeoutHandle) {\n            clearTimeout(kc.tokenTimeoutHandle);\n            kc.tokenTimeoutHandle = null;\n        }\n\n        if (refreshToken) {\n            kc.refreshToken = refreshToken;\n            kc.refreshTokenParsed = decodeToken(refreshToken);\n        } else {\n            delete kc.refreshToken;\n            delete kc.refreshTokenParsed;\n        }\n\n        if (idToken) {\n            kc.idToken = idToken;\n            kc.idTokenParsed = decodeToken(idToken);\n        } else {\n            delete kc.idToken;\n            delete kc.idTokenParsed;\n        }\n\n        if (token) {\n            kc.token = token;\n            kc.tokenParsed = decodeToken(token);\n            kc.sessionId = kc.tokenParsed.session_state;\n            kc.authenticated = true;\n            kc.subject = kc.tokenParsed.sub;\n            kc.realmAccess = kc.tokenParsed.realm_access;\n            kc.resourceAccess = kc.tokenParsed.resource_access;\n\n            if (timeLocal) {\n                kc.timeSkew = Math.floor(timeLocal / 1000) - kc.tokenParsed.iat;\n            }\n\n            if (kc.timeSkew != null) {\n                logInfo('[KEYCLOAK] Estimated time difference between browser and server is ' + kc.timeSkew + ' seconds');\n\n                if (kc.onTokenExpired) {\n                    var expiresIn = (kc.tokenParsed['exp'] - (new Date().getTime() / 1000) + kc.timeSkew) * 1000;\n                    logInfo('[KEYCLOAK] Token expires in ' + Math.round(expiresIn / 1000) + ' s');\n                    if (expiresIn <= 0) {\n                        kc.onTokenExpired();\n                    } else {\n                        kc.tokenTimeoutHandle = setTimeout(kc.onTokenExpired, expiresIn);\n                    }\n                }\n            }\n        } else {\n            delete kc.token;\n            delete kc.tokenParsed;\n            delete kc.subject;\n            delete kc.realmAccess;\n            delete kc.resourceAccess;\n\n            kc.authenticated = false;\n        }\n    }\n\n    function decodeToken(str) {\n        str = str.split('.')[1];\n\n        str = str.replace(/-/g, '+');\n        str = str.replace(/_/g, '/');\n        switch (str.length % 4) {\n            case 0:\n                break;\n            case 2:\n                str += '==';\n                break;\n            case 3:\n                str += '=';\n                break;\n            default:\n                throw 'Invalid token';\n        }\n\n        str = decodeURIComponent(escape(atob(str)));\n\n        str = JSON.parse(str);\n        return str;\n    }\n\n    function createUUID() {\n        var hexDigits = '0123456789abcdef';\n        var s = generateRandomString(36, hexDigits).split(\"\");\n        s[14] = '4';\n        s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\n        s[8] = s[13] = s[18] = s[23] = '-';\n        var uuid = s.join('');\n        return uuid;\n    }\n\n    function parseCallback(url) {\n        var oauth = parseCallbackUrl(url);\n        if (!oauth) {\n            return;\n        }\n\n        var oauthState = callbackStorage.get(oauth.state);\n\n        if (oauthState) {\n            oauth.valid = true;\n            oauth.redirectUri = oauthState.redirectUri;\n            oauth.storedNonce = oauthState.nonce;\n            oauth.prompt = oauthState.prompt;\n            oauth.pkceCodeVerifier = oauthState.pkceCodeVerifier;\n        }\n\n        return oauth;\n    }\n\n    function parseCallbackUrl(url) {\n        var supportedParams;\n        switch (kc.flow) {\n            case 'standard':\n                supportedParams = ['code', 'state', 'session_state', 'kc_action_status'];\n                break;\n            case 'implicit':\n                supportedParams = ['access_token', 'token_type', 'id_token', 'state', 'session_state', 'expires_in', 'kc_action_status'];\n                break;\n            case 'hybrid':\n                supportedParams = ['access_token', 'token_type', 'id_token', 'code', 'state', 'session_state', 'expires_in', 'kc_action_status'];\n                break;\n        }\n\n        supportedParams.push('error');\n        supportedParams.push('error_description');\n        supportedParams.push('error_uri');\n\n        var queryIndex = url.indexOf('?');\n        var fragmentIndex = url.indexOf('#');\n\n        var newUrl;\n        var parsed;\n\n        if (kc.responseMode === 'query' && queryIndex !== -1) {\n            newUrl = url.substring(0, queryIndex);\n            parsed = parseCallbackParams(url.substring(queryIndex + 1, fragmentIndex !== -1 ? fragmentIndex : url.length), supportedParams);\n            if (parsed.paramsString !== '') {\n                newUrl += '?' + parsed.paramsString;\n            }\n            if (fragmentIndex !== -1) {\n                newUrl += url.substring(fragmentIndex);\n            }\n        } else if (kc.responseMode === 'fragment' && fragmentIndex !== -1) {\n            newUrl = url.substring(0, fragmentIndex);\n            parsed = parseCallbackParams(url.substring(fragmentIndex + 1), supportedParams);\n            if (parsed.paramsString !== '') {\n                newUrl += '#' + parsed.paramsString;\n            }\n        }\n\n        if (parsed && parsed.oauthParams) {\n            if (kc.flow === 'standard' || kc.flow === 'hybrid') {\n                if ((parsed.oauthParams.code || parsed.oauthParams.error) && parsed.oauthParams.state) {\n                    parsed.oauthParams.newUrl = newUrl;\n                    return parsed.oauthParams;\n                }\n            } else if (kc.flow === 'implicit') {\n                if ((parsed.oauthParams.access_token || parsed.oauthParams.error) && parsed.oauthParams.state) {\n                    parsed.oauthParams.newUrl = newUrl;\n                    return parsed.oauthParams;\n                }\n            }\n        }\n    }\n\n    function parseCallbackParams(paramsString, supportedParams) {\n        var p = paramsString.split('&');\n        var result = {\n            paramsString: '',\n            oauthParams: {}\n        };\n        for (var i = 0; i < p.length; i++) {\n            var split = p[i].indexOf(\"=\");\n            var key = p[i].slice(0, split);\n            if (supportedParams.indexOf(key) !== -1) {\n                result.oauthParams[key] = p[i].slice(split + 1);\n            } else {\n                if (result.paramsString !== '') {\n                    result.paramsString += '&';\n                }\n                result.paramsString += p[i];\n            }\n        }\n        return result;\n    }\n\n    function createPromise() {\n        // Need to create a native Promise which also preserves the\n        // interface of the custom promise type previously used by the API\n        var p = {\n            setSuccess: function(result) {\n                p.resolve(result);\n            },\n\n            setError: function(result) {\n                p.reject(result);\n            }\n        };\n        p.promise = new Promise(function(resolve, reject) {\n            p.resolve = resolve;\n            p.reject = reject;\n        });\n\n        p.promise.success = function(callback) {\n            logPromiseDeprecation();\n\n            this.then(function handleSuccess(value) {\n                callback(value);\n            });\n\n            return this;\n        };\n\n        p.promise.error = function(callback) {\n            logPromiseDeprecation();\n\n            this.catch(function handleError(error) {\n                callback(error);\n            });\n\n            return this;\n        };\n\n        return p;\n    }\n\n    // Function to extend existing native Promise with timeout\n    function applyTimeoutToPromise(promise, timeout, errorMessage) {\n        var timeoutHandle = null;\n        var timeoutPromise = new Promise(function (resolve, reject) {\n            timeoutHandle = setTimeout(function () {\n                reject({ \"error\": errorMessage || \"Promise is not settled within timeout of \" + timeout + \"ms\" });\n            }, timeout);\n        });\n\n        return Promise.race([promise, timeoutPromise]).finally(function () {\n            clearTimeout(timeoutHandle);\n        });\n    }\n\n    function setupCheckLoginIframe() {\n        var promise = createPromise();\n\n        if (!loginIframe.enable) {\n            promise.setSuccess();\n            return promise.promise;\n        }\n\n        if (loginIframe.iframe) {\n            promise.setSuccess();\n            return promise.promise;\n        }\n\n        var iframe = document.createElement('iframe');\n        loginIframe.iframe = iframe;\n\n        iframe.onload = function() {\n            var authUrl = kc.endpoints.authorize();\n            if (authUrl.charAt(0) === '/') {\n                loginIframe.iframeOrigin = getOrigin();\n            } else {\n                loginIframe.iframeOrigin = authUrl.substring(0, authUrl.indexOf('/', 8));\n            }\n            promise.setSuccess();\n        };\n\n        var src = kc.endpoints.checkSessionIframe();\n        iframe.setAttribute('src', src );\n        iframe.setAttribute('title', 'keycloak-session-iframe' );\n        iframe.style.display = 'none';\n        document.body.appendChild(iframe);\n\n        var messageCallback = function(event) {\n            if ((event.origin !== loginIframe.iframeOrigin) || (loginIframe.iframe.contentWindow !== event.source)) {\n                return;\n            }\n\n            if (!(event.data == 'unchanged' || event.data == 'changed' || event.data == 'error')) {\n                return;\n            }\n\n\n            if (event.data != 'unchanged') {\n                kc.clearToken();\n            }\n\n            var callbacks = loginIframe.callbackList.splice(0, loginIframe.callbackList.length);\n\n            for (var i = callbacks.length - 1; i >= 0; --i) {\n                var promise = callbacks[i];\n                if (event.data == 'error') {\n                    promise.setError();\n                } else {\n                    promise.setSuccess(event.data == 'unchanged');\n                }\n            }\n        };\n\n        window.addEventListener('message', messageCallback, false);\n\n        return promise.promise;\n    }\n\n    function scheduleCheckIframe() {\n        if (loginIframe.enable) {\n            if (kc.token) {\n                setTimeout(function() {\n                    checkLoginIframe().then(function(unchanged) {\n                        if (unchanged) {\n                            scheduleCheckIframe();\n                        }\n                    });\n                }, loginIframe.interval * 1000);\n            }\n        }\n    }\n\n    function checkLoginIframe() {\n        var promise = createPromise();\n\n        if (loginIframe.iframe && loginIframe.iframeOrigin ) {\n            var msg = kc.clientId + ' ' + (kc.sessionId ? kc.sessionId : '');\n            loginIframe.callbackList.push(promise);\n            var origin = loginIframe.iframeOrigin;\n            if (loginIframe.callbackList.length == 1) {\n                loginIframe.iframe.contentWindow.postMessage(msg, origin);\n            }\n        } else {\n            promise.setSuccess();\n        }\n\n        return promise.promise;\n    }\n\n    function check3pCookiesSupported() {\n        var promise = createPromise();\n\n        if (loginIframe.enable || kc.silentCheckSsoRedirectUri) {\n            var iframe = document.createElement('iframe');\n            iframe.setAttribute('src', kc.endpoints.thirdPartyCookiesIframe());\n            iframe.setAttribute('title', 'keycloak-3p-check-iframe' );\n            iframe.style.display = 'none';\n            document.body.appendChild(iframe);\n\n            var messageCallback = function(event) {\n                if (iframe.contentWindow !== event.source) {\n                    return;\n                }\n\n                if (event.data !== \"supported\" && event.data !== \"unsupported\") {\n                    return;\n                } else if (event.data === \"unsupported\") {\n                    loginIframe.enable = false;\n                    if (kc.silentCheckSsoFallback) {\n                        kc.silentCheckSsoRedirectUri = false;\n                    }\n                    logWarn(\"[KEYCLOAK] 3rd party cookies aren't supported by this browser. checkLoginIframe and \" +\n                        \"silent check-sso are not available.\");\n                }\n\n                document.body.removeChild(iframe);\n                window.removeEventListener(\"message\", messageCallback);\n                promise.setSuccess();\n            };\n\n            window.addEventListener('message', messageCallback, false);\n        } else {\n            promise.setSuccess();\n        }\n\n        return applyTimeoutToPromise(promise.promise, kc.messageReceiveTimeout, \"Timeout when waiting for 3rd party check iframe message.\");\n    }\n\n    function loadAdapter(type) {\n        if (!type || type == 'default') {\n            return {\n                login: function(options) {\n                    window.location.replace(kc.createLoginUrl(options));\n                    return createPromise().promise;\n                },\n\n                logout: function(options) {\n                    window.location.replace(kc.createLogoutUrl(options));\n                    return createPromise().promise;\n                },\n\n                register: function(options) {\n                    window.location.replace(kc.createRegisterUrl(options));\n                    return createPromise().promise;\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        window.location.href = accountUrl;\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                    return createPromise().promise;\n                },\n\n                redirectUri: function(options, encodeHash) {\n\n                    if (options && options.redirectUri) {\n                        return options.redirectUri;\n                    } else if (kc.redirectUri) {\n                        return kc.redirectUri;\n                    } else {\n                        return location.href;\n                    }\n                }\n            };\n        }\n\n        if (type == 'cordova') {\n            loginIframe.enable = false;\n            var cordovaOpenWindowWrapper = function(loginUrl, target, options) {\n                if (window.cordova && window.cordova.InAppBrowser) {\n                    // Use inappbrowser for IOS and Android if available\n                    return window.cordova.InAppBrowser.open(loginUrl, target, options);\n                } else {\n                    return window.open(loginUrl, target, options);\n                }\n            };\n\n            var shallowCloneCordovaOptions = function (userOptions) {\n                if (userOptions && userOptions.cordovaOptions) {\n                    return Object.keys(userOptions.cordovaOptions).reduce(function (options, optionName) {\n                        options[optionName] = userOptions.cordovaOptions[optionName];\n                        return options;\n                    }, {});\n                } else {\n                    return {};\n                }\n            };\n\n            var formatCordovaOptions = function (cordovaOptions) {\n                return Object.keys(cordovaOptions).reduce(function (options, optionName) {\n                    options.push(optionName+\"=\"+cordovaOptions[optionName]);\n                    return options;\n                }, []).join(\",\");\n            };\n\n            var createCordovaOptions = function (userOptions) {\n                var cordovaOptions = shallowCloneCordovaOptions(userOptions);\n                cordovaOptions.location = 'no';\n                if (userOptions && userOptions.prompt == 'none') {\n                    cordovaOptions.hidden = 'yes';\n                }\n                return formatCordovaOptions(cordovaOptions);\n            };\n\n            var cordovaRedirectUri = kc.redirectUri || 'http://localhost';\n            \n            return {\n                login: function(options) {\n                    var promise = createPromise();\n\n                    var cordovaOptions = createCordovaOptions(options);\n                    var loginUrl = kc.createLoginUrl(options);\n                    var ref = cordovaOpenWindowWrapper(loginUrl, '_blank', cordovaOptions);\n                    var completed = false;\n\n                    var closed = false;\n                    var closeBrowser = function() {\n                        closed = true;\n                        ref.close();\n                    };\n\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf(cordovaRedirectUri) == 0) {\n                            var callback = parseCallback(event.url);\n                            processCallback(callback, promise);\n                            closeBrowser();\n                            completed = true;\n                        }\n                    });\n\n                    ref.addEventListener('loaderror', function(event) {\n                        if (!completed) {\n                            if (event.url.indexOf(cordovaRedirectUri) == 0) {\n                                var callback = parseCallback(event.url);\n                                processCallback(callback, promise);\n                                closeBrowser();\n                                completed = true;\n                            } else {\n                                promise.setError();\n                                closeBrowser();\n                            }\n                        }\n                    });\n\n                    ref.addEventListener('exit', function(event) {\n                        if (!closed) {\n                            promise.setError({\n                                reason: \"closed_by_user\"\n                            });\n                        }\n                    });\n\n                    return promise.promise;\n                },\n\n                logout: function(options) {\n                    var promise = createPromise();\n\n                    var logoutUrl = kc.createLogoutUrl(options);\n                    var ref = cordovaOpenWindowWrapper(logoutUrl, '_blank', 'location=no,hidden=yes,clearcache=yes');\n\n                    var error;\n\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf(cordovaRedirectUri) == 0) {\n                            ref.close();\n                        }\n                    });\n\n                    ref.addEventListener('loaderror', function(event) {\n                        if (event.url.indexOf(cordovaRedirectUri) == 0) {\n                            ref.close();\n                        } else {\n                            error = true;\n                            ref.close();\n                        }\n                    });\n\n                    ref.addEventListener('exit', function(event) {\n                        if (error) {\n                            promise.setError();\n                        } else {\n                            kc.clearToken();\n                            promise.setSuccess();\n                        }\n                    });\n\n                    return promise.promise;\n                },\n\n                register : function(options) {\n                    var promise = createPromise();\n                    var registerUrl = kc.createRegisterUrl();\n                    var cordovaOptions = createCordovaOptions(options);\n                    var ref = cordovaOpenWindowWrapper(registerUrl, '_blank', cordovaOptions);\n                    ref.addEventListener('loadstart', function(event) {\n                        if (event.url.indexOf(cordovaRedirectUri) == 0) {\n                            ref.close();\n                            var oauth = parseCallback(event.url);\n                            processCallback(oauth, promise);\n                        }\n                    });\n                    return promise.promise;\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        var ref = cordovaOpenWindowWrapper(accountUrl, '_blank', 'location=no');\n                        ref.addEventListener('loadstart', function(event) {\n                            if (event.url.indexOf(cordovaRedirectUri) == 0) {\n                                ref.close();\n                            }\n                        });\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                },\n\n                redirectUri: function(options) {\n                    return cordovaRedirectUri;\n                }\n            }\n        }\n\n        if (type == 'cordova-native') {\n            loginIframe.enable = false;\n\n            return {\n                login: function(options) {\n                    var promise = createPromise();\n                    var loginUrl = kc.createLoginUrl(options);\n\n                    universalLinks.subscribe('keycloak', function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        var oauth = parseCallback(event.url);\n                        processCallback(oauth, promise);\n                    });\n\n                    window.cordova.plugins.browsertab.openUrl(loginUrl);\n                    return promise.promise;\n                },\n\n                logout: function(options) {\n                    var promise = createPromise();\n                    var logoutUrl = kc.createLogoutUrl(options);\n\n                    universalLinks.subscribe('keycloak', function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        kc.clearToken();\n                        promise.setSuccess();\n                    });\n\n                    window.cordova.plugins.browsertab.openUrl(logoutUrl);\n                    return promise.promise;\n                },\n\n                register : function(options) {\n                    var promise = createPromise();\n                    var registerUrl = kc.createRegisterUrl(options);\n                    universalLinks.subscribe('keycloak' , function(event) {\n                        universalLinks.unsubscribe('keycloak');\n                        window.cordova.plugins.browsertab.close();\n                        var oauth = parseCallback(event.url);\n                        processCallback(oauth, promise);\n                    });\n                    window.cordova.plugins.browsertab.openUrl(registerUrl);\n                    return promise.promise;\n\n                },\n\n                accountManagement : function() {\n                    var accountUrl = kc.createAccountUrl();\n                    if (typeof accountUrl !== 'undefined') {\n                        window.cordova.plugins.browsertab.openUrl(accountUrl);\n                    } else {\n                        throw \"Not supported by the OIDC server\";\n                    }\n                },\n\n                redirectUri: function(options) {\n                    if (options && options.redirectUri) {\n                        return options.redirectUri;\n                    } else if (kc.redirectUri) {\n                        return kc.redirectUri;\n                    } else {\n                        return \"http://localhost\";\n                    }\n                }\n            }\n        }\n\n        throw 'invalid adapter type: ' + type;\n    }\n\n    var LocalStorage = function() {\n        if (!(this instanceof LocalStorage)) {\n            return new LocalStorage();\n        }\n\n        localStorage.setItem('kc-test', 'test');\n        localStorage.removeItem('kc-test');\n\n        var cs = this;\n\n        function clearExpired() {\n            var time = new Date().getTime();\n            for (var i = 0; i < localStorage.length; i++)  {\n                var key = localStorage.key(i);\n                if (key && key.indexOf('kc-callback-') == 0) {\n                    var value = localStorage.getItem(key);\n                    if (value) {\n                        try {\n                            var expires = JSON.parse(value).expires;\n                            if (!expires || expires < time) {\n                                localStorage.removeItem(key);\n                            }\n                        } catch (err) {\n                            localStorage.removeItem(key);\n                        }\n                    }\n                }\n            }\n        }\n\n        cs.get = function(state) {\n            if (!state) {\n                return;\n            }\n\n            var key = 'kc-callback-' + state;\n            var value = localStorage.getItem(key);\n            if (value) {\n                localStorage.removeItem(key);\n                value = JSON.parse(value);\n            }\n\n            clearExpired();\n            return value;\n        };\n\n        cs.add = function(state) {\n            clearExpired();\n\n            var key = 'kc-callback-' + state.state;\n            state.expires = new Date().getTime() + (60 * 60 * 1000);\n            localStorage.setItem(key, JSON.stringify(state));\n        };\n    };\n\n    var CookieStorage = function() {\n        if (!(this instanceof CookieStorage)) {\n            return new CookieStorage();\n        }\n\n        var cs = this;\n\n        cs.get = function(state) {\n            if (!state) {\n                return;\n            }\n\n            var value = getCookie('kc-callback-' + state);\n            setCookie('kc-callback-' + state, '', cookieExpiration(-100));\n            if (value) {\n                return JSON.parse(value);\n            }\n        };\n\n        cs.add = function(state) {\n            setCookie('kc-callback-' + state.state, JSON.stringify(state), cookieExpiration(60));\n        };\n\n        cs.removeItem = function(key) {\n            setCookie(key, '', cookieExpiration(-100));\n        };\n\n        var cookieExpiration = function (minutes) {\n            var exp = new Date();\n            exp.setTime(exp.getTime() + (minutes*60*1000));\n            return exp;\n        };\n\n        var getCookie = function (key) {\n            var name = key + '=';\n            var ca = document.cookie.split(';');\n            for (var i = 0; i < ca.length; i++) {\n                var c = ca[i];\n                while (c.charAt(0) == ' ') {\n                    c = c.substring(1);\n                }\n                if (c.indexOf(name) == 0) {\n                    return c.substring(name.length, c.length);\n                }\n            }\n            return '';\n        };\n\n        var setCookie = function (key, value, expirationDate) {\n            var cookie = key + '=' + value + '; '\n                + 'expires=' + expirationDate.toUTCString() + '; ';\n            document.cookie = cookie;\n        };\n    };\n\n    function createCallbackStorage() {\n        try {\n            return new LocalStorage();\n        } catch (err) {\n        }\n\n        return new CookieStorage();\n    }\n\n    function createLogger(fn) {\n        return function() {\n            if (kc.enableLogging) {\n                fn.apply(console, Array.prototype.slice.call(arguments));\n            }\n        };\n    }\n}\n\nexport { Keycloak as default };\n","/** @see <https://docs.tsafe.dev/capitalize> */\nexport function capitalize<S extends string>(str: S): Capitalize<S> {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return (str.charAt(0).toUpperCase() + str.slice(1)) as any;\n}\n"],"names":["exports","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","i","arr","Arr","_byteLength","curByte","len","revLookup","charCodeAt","fromByteArray","uint8","length","extraBytes","parts","maxChunkLength","len2","push","encodeChunk","lookup","join","Uint8Array","Array","code","Error","indexOf","start","end","num","output","ERROR","WINDOW","window","root","JS_SHA256_NO_WINDOW","WEB_WORKER","self","NODE_JS","JS_SHA256_NO_NODE_JS","process","versions","node","global","COMMON_JS","JS_SHA256_NO_COMMON_JS","module","AMD","define","ARRAY_BUFFER","JS_SHA256_NO_ARRAY_BUFFER","ArrayBuffer","HEX_CHARS","split","EXTRA","SHIFT","K","OUTPUT_TYPES","blocks","isArray","obj","Object","prototype","toString","call","JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW","isView","buffer","constructor","createOutputMethod","outputType","is224","message","Sha256","update","createMethod","method","nodeWrap","create","type","crypto","eval","Buffer","algorithm","nodeMethod","createHash","digest","undefined","createHmacOutputMethod","key","HmacSha256","createHmacMethod","sharedMemory","this","h0","h1","h2","h3","h4","h5","h6","h7","block","bytes","hBytes","finalized","hashed","first","index","array","oKeyPad","iKeyPad","b","inner","notString","lastByteIndex","hash","finalize","j","s0","s1","maj","t1","ab","da","cd","bc","a","c","d","e","f","g","h","hex","arrayBuffer","dataView","DataView","setUint32","innerHash","sha256","sha224","hmac","name","r","atob","bind","t","String","replace","n","o","charAt","fromCharCode","decodeURIComponent","toUpperCase","header","JSON","parse","createKeycloakAdapter","params","keycloakInstance","transformUrlBeforeRedirect","_params$getRedirectMe","getRedirectMethod","neverResolvingPromise","defineProperties","Promise","options","newHref","createLoginUrl","location","href","createRegisterUrl","createLogoutUrl","accountUrl","createAccountUrl","redirectUri","retrieveAllParamStartingWithPrefixFromUrl","url","prefix","doLeavePrefixInResults","_a","__read","baseUrl","_b","locationSearch","values","newLocationSearch","map","part","filter","value_i","startsWith","substring","entry","concat","retrieveParamFromUrl","newUrl","value","result","wasPresent","includes","endsWith","encodeURIComponent","history","replaceState","_toPropertyKey","arg","input","hint","prim","Symbol","toPrimitive","res","TypeError","Number","_defineProperty","defineProperty","enumerable","configurable","writable","loggedPromiseDeprecation","logPromiseDeprecation","console","warn","Keycloak","config","adapter","callbackStorage","kc","refreshQueue","loginIframe","enable","callbackList","interval","scripts","document","getElementsByTagName","src","iframeVersion","useNonce","logInfo","createLogger","info","logWarn","generateRandomString","alphabet","randomData","msCrypto","getRandomValues","Math","floor","random","generateRandomData","chars","apply","getRealmUrl","authServerUrl","realm","processCallback","oauth","promise","error","prompt","timeLocal","Date","getTime","onActionUpdate","errorData","error_description","onAuthError","setError","setSuccess","flow","access_token","id_token","authSuccess","endpoints","token","req","XMLHttpRequest","open","setRequestHeader","clientId","pkceCodeVerifier","withCredentials","onreadystatechange","readyState","status","tokenResponse","responseText","scheduleCheckIframe","send","accessToken","refreshToken","idToken","fulfillPromise","setToken","tokenParsed","nonce","storedNonce","refreshTokenParsed","idTokenParsed","clearToken","onAuthSuccess","fileLoaded","xhr","responseURL","tokenTimeoutHandle","clearTimeout","decodeToken","sessionId","session_state","authenticated","subject","sub","realmAccess","realm_access","resourceAccess","resource_access","timeSkew","iat","onTokenExpired","expiresIn","round","setTimeout","str","escape","createUUID","hexDigits","s","substr","parseCallback","supportedParams","parsed","queryIndex","fragmentIndex","responseMode","parseCallbackParams","paramsString","oauthParams","state","parseCallbackUrl","oauthState","get","valid","p","slice","createPromise","resolve","reject","success","callback","then","catch","setupCheckLoginIframe","iframe","createElement","onload","authUrl","authorize","iframeOrigin","origin","protocol","hostname","port","checkSessionIframe","setAttribute","style","display","body","appendChild","addEventListener","event","contentWindow","source","data","callbacks","splice","checkLoginIframe","unchanged","msg","postMessage","check3pCookiesSupported","silentCheckSsoRedirectUri","thirdPartyCookiesIframe","messageCallback","silentCheckSsoFallback","removeChild","removeEventListener","timeout","errorMessage","timeoutHandle","timeoutPromise","race","finally","applyTimeoutToPromise","messageReceiveTimeout","loadAdapter","login","logout","register","accountManagement","encodeHash","cordovaOpenWindowWrapper","loginUrl","target","cordova","InAppBrowser","createCordovaOptions","userOptions","cordovaOptions","keys","reduce","optionName","shallowCloneCordovaOptions","hidden","formatCordovaOptions","cordovaRedirectUri","ref","completed","closed","closeBrowser","close","reason","logoutUrl","registerUrl","universalLinks","subscribe","unsubscribe","plugins","browsertab","openUrl","init","initOptions","LocalStorage","err","CookieStorage","createCallbackStorage","Cordova","checkLoginIframeInterval","onLoad","loginRequired","responseType","pkceMethod","enableLogging","scope","initPromise","onReady","configPromise","configUrl","setupOidcEndoints","oidcConfiguration","authorization_endpoint","token_endpoint","end_session_endpoint","check_session_iframe","userinfo","userinfo_endpoint","oidcProvider","oidcProviderConfigUrl","match","loadConfig","doLogin","checkSsoSilently","ifrm","processInit","updateToken","checkReadyState","domReady","callbackState","action","maxAge","loginHint","idpHint","locale","acr","claimsParameter","requestedAcr","claims","stringify","buildClaimsParameter","codeVerifier","pkceChallenge","hashBytes","base64","generatePkceChallenge","add","hasRealmRole","role","access","roles","hasResourceRole","resource","loadUserProfile","profile","loadUserInfo","userInfo","isTokenExpired","minValidity","ceil","isNaN","exec","onAuthRefreshSuccess","pop","onAuthRefreshError","onAuthLogout","localStorage","setItem","removeItem","clearExpired","time","getItem","expires","cs","getCookie","setCookie","cookieExpiration","minutes","exp","setTime","ca","cookie","expirationDate","toUTCString","fn","arguments","capitalize"],"sourceRoot":""}